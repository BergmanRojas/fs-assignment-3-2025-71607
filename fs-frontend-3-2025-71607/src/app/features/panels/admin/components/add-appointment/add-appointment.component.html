<div class="d-flex">
  <app-admin-sidebar></app-admin-sidebar>
  <div class="flex-grow-1 p-3">
    <div class="col-md-12">
      <app-token></app-token>
      <div class="card mt-5">
        <div class="card-header">
          <h2 class="text-center" style="color: #1565c0;">BOOK APPOINTMENT</h2>
        </div>
        <div class="card-body">

          <div class="form-group mb-3">
            <label for="patient">Patient</label>
            <select id="patient" class="form-control" [(ngModel)]="selectedPatient">
              <option *ngFor="let patient of patients" [ngValue]="patient">
                {{ patient.firstName + " " + patient.lastName }}
              </option>
            </select>
          </div>

          <div class="form-group mb-3">
            <label for="doctor">Doctor</label>
            <select id="doctor" class="form-control" [(ngModel)]="selectedDoctor" (change)="onDoctorChange()">
              <option *ngFor="let doctor of doctors" [ngValue]="doctor">
                {{ doctor.title + " " + doctor.firstName + ' ' + doctor.lastName }}
              </option>
            </select>
          </div>

          <div class="form-group mb-3">
            <label for="date">Date</label>
            <select id="date" class="form-control" [(ngModel)]="selectedDate" (change)="onDateChange()">
              <option *ngFor="let date of availableDates" [ngValue]="date">{{ date }}</option>
            </select>
          </div>

          <div class="form-group mb-3">
            <label for="time">Time</label>
            <select id="time" class="form-control" [(ngModel)]="selectedTime">
              <option *ngFor="let time of timesWithStatus" [ngValue]="time.time" [disabled]="time.disabled">
                {{ time.time }}
              </option>
            </select>
          </div>

          <button class="btn btn-primary mt-3" (click)="addAppointment()" [disabled]="!selectedTime">
            Book Appointment
          </button>

        </div>
      </div>
    </div>
  </div>
</div>
